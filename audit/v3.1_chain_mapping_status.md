# v3.1 Paper-to-Lean Chain Mapping Status

This note records the current mapping between the v3.1 manuscript route and the
public Lean snapshot. It is intentionally explicit about what is fully
mechanized versus what is still represented by external or bridge assumptions.

## Paper Route (v3.1)

Core classical-mass branch in manuscript:

1. `prop:R1_classical_mass`
   - `A_Reduction_Framework_RH_v3.1.tex:4633`
2. `prop:R1_classical_mass_applicability`
   - `A_Reduction_Framework_RH_v3.1.tex:4651`
3. `thm:R1-limit-point`
   - `A_Reduction_Framework_RH_v3.1.tex:4672`
   - uses classical mass branch at `A_Reduction_Framework_RH_v3.1.tex:4705`
4. RH closure call path
   - `A_Reduction_Framework_RH_v3.1.tex:1002`
   - RH conclusion statement at `A_Reduction_Framework_RH_v3.1.tex:1023`

## Lean Mapping (public snapshot)

### External axis

- Single explicit external axiom:
  - `audit/formalization/lean_v3_1/LeanV31/R1CitationStandardChain.lean:122`
  - name: `paper_external_mass_divergence_limitpoint`

### Classical-mass route wrappers

- `R1_classical_mass`:
  - `audit/formalization/lean_v3_1/LeanV31/R1ClassicalMass.lean:13`
- `R1_classical_mass_applicability`:
  - `audit/formalization/lean_v3_1/LeanV31/R1ClassicalMassApplicability.lean:15`
- `R1_limit_point`:
  - `audit/formalization/lean_v3_1/LeanV31/R1LimitPoint.lean:15`
- paper-facing chain wrapper:
  - `audit/formalization/lean_v3_1/LeanV31/R1CitationStandardChain.lean:1`

### RH closure modules

- `rh_from_lstar`:
  - `audit/formalization/lean_v3_1/LeanV31/RHFromLstar.lean:80`
- `reverse_RH`:
  - `audit/formalization/lean_v3_1/LeanV31/ReverseRH.lean:49`
- `final_bridge_closed`:
  - `audit/formalization/lean_v3_1/LeanV31/FinalBridgeClosed.lean:38`

## Build/Proof Hygiene Snapshot

- `lake build` status: pass (public snapshot buildable)
- explicit `axiom` count in `LeanV31/*.lean`: 1
- `sorry`/`admit`: none detected in `LeanV31/*.lean`

## Remaining Upgrade Targets

1. Replace bridge-parameter wrappers with fully internal proofs where possible.
2. Strengthen the R1-collapse-to-RH integration path as a direct theorem layer.
3. Reduce modeling shortcuts where definitions are intentionally compressed.
4. Keep external dependence and claim boundaries explicit in release notes.

## Recommended Public Statement

The preprint and Lean formalization are under active refinement. The repository
maintains reproducible builds, theorem-to-code mapping, and transparent status
tracking for remaining bridge-to-internal-proof upgrades.

## Latest Local Delta (2026-02-12)

- Reference baseline used: public `audit/v3.1_chain_mapping_status.md`.
- Local build gate: `lake build` passed (`8033 jobs`).
- `Prop := True` scan in `LeanV31/*.lean`: `0` (wrapper stubs removed in current working tree).
- Explicit `axiom` count in `LeanV31/*.lean`: `1` (single external axis in `LeanV31/R1CitationStandardChain.lean:122`).
- Local dewrap edits applied:
  - `LeanV31/LimitPointUniqueLimit.lean`
  - `LeanV31/PolarizedJKernelB21.lean`
  - `LeanV31/R1PrefixSubsequenceDivergence.lean`
  - `LeanV31/R1ClassicalMass.lean`
  - `LeanV31/R1ClassicalMassApplicability.lean`
  - `LeanV31/R1CollapseAtomicSymplOrth.lean`
  - `LeanV31/R1MassDivergenceInternal.lean`
  - `LeanV31/R1LimitPoint.lean`
  - `LeanV31/IDAssumptionsVerifiedR1.lean`
- Local build recheck after bridge-parameter reduction: `lake build` passed (`8033 jobs`).
- External-axis theorem-shape matching layer added in
  `LeanV31/R1CitationStandardChain.lean` (Hamiltonian/Weyl/mass/collapse interface lemmas).
- Targeted check: `lake build LeanV31.R1CitationStandardChain` passed.
- Formula-grounding pass (tex-driven) added in
  `LeanV31/R1ClassicalMassApplicability.lean`:
  - explicit `J/H_k/L_k/R_k/M_k/U_n/Q_n/Q~_n` objects
  - Weyl radius formula shape from `eq:R1-radius`
  - source anchors: `eq:R1-step`, `eq:R1-disk`, `eq:R1-radius`, `eq:R1-collapse`
- Targeted check: `lake build LeanV31.R1ClassicalMassApplicability LeanV31.R1CitationStandardChain` passed.
- External axis retention is intentional: this remains the single RH-independent
  canonical-systems theorem gate until concrete semantic internalization closes.

## Current Remaining Upgrade Focus (Local)

1. Keep paper-route mapping synchronized between private/public status notes each update cycle.
2. Internalize or rigorously narrow the single external axiom path (`paper_external_mass_divergence_limitpoint`).
3. Continue bridge-definition honesty upgrades without changing closure semantics.

## External Axiom Validation Note

- Detailed source check and RH-dependency clarification:
  - `audit/external_axiom_validation.md`

## External Mainline Matching Checklist

- Mainline-only matching tracker (external mass-theorem axis):
  - `audit/external_mass_axis_matching_checklist.md`
